{
  "version": "1.0.0",
  "description": "Market data schema definitions for Aslan Drive trading infrastructure",
  "tables": {
    "daily_ohlcv": {
      "description": "Daily OHLCV data for financial instruments",
      "columns": {
        "symbol": {
          "type": "VARCHAR(20)",
          "python_type": "str",
          "nullable": false,
          "primary_key": true,
          "description": "Financial instrument symbol"
        },
        "date": {
          "type": "DATE",
          "python_type": "datetime.date",
          "nullable": false,
          "primary_key": true,
          "description": "Trading date"
        },
        "open": {
          "type": "DECIMAL(15,4)",
          "python_type": "Decimal",
          "nullable": false,
          "description": "Opening price"
        },
        "high": {
          "type": "DECIMAL(15,4)",
          "python_type": "Decimal",
          "nullable": false,
          "description": "Highest price during the trading day"
        },
        "low": {
          "type": "DECIMAL(15,4)",
          "python_type": "Decimal",
          "nullable": false,
          "description": "Lowest price during the trading day"
        },
        "close": {
          "type": "DECIMAL(15,4)",
          "python_type": "Decimal",
          "nullable": false,
          "description": "Closing price"
        },
        "volume": {
          "type": "BIGINT",
          "python_type": "int",
          "nullable": false,
          "description": "Trading volume"
        },
        "created_at": {
          "type": "TIMESTAMP WITH TIME ZONE",
          "python_type": "datetime.datetime",
          "nullable": false,
          "default": "CURRENT_TIMESTAMP",
          "description": "Record creation timestamp"
        }
      },
      "indexes": [
        {
          "name": "idx_daily_ohlcv_symbol_date",
          "columns": ["symbol", "date"],
          "unique": true
        },
        {
          "name": "idx_daily_ohlcv_date",
          "columns": ["date"]
        }
      ]
    },
    "symbols": {
      "description": "Symbol metadata and configuration",
      "columns": {
        "symbol": {
          "type": "VARCHAR(20)",
          "python_type": "str",
          "nullable": false,
          "primary_key": true,
          "description": "Financial instrument symbol"
        },
        "name": {
          "type": "VARCHAR(255)",
          "python_type": "str",
          "nullable": true,
          "description": "Full name of the instrument"
        },
        "asset_class": {
          "type": "VARCHAR(50)",
          "python_type": "str",
          "nullable": false,
          "description": "Asset class (equity, forex, crypto, etc.)"
        },
        "exchange": {
          "type": "VARCHAR(50)",
          "python_type": "str",
          "nullable": true,
          "description": "Primary exchange"
        },
        "currency": {
          "type": "VARCHAR(3)",
          "python_type": "str",
          "nullable": false,
          "description": "Base currency"
        },
        "active": {
          "type": "BOOLEAN",
          "python_type": "bool",
          "nullable": false,
          "default": "true",
          "description": "Whether symbol is actively tracked"
        },
        "created_at": {
          "type": "TIMESTAMP WITH TIME ZONE",
          "python_type": "datetime.datetime",
          "nullable": false,
          "default": "CURRENT_TIMESTAMP",
          "description": "Record creation timestamp"
        },
        "updated_at": {
          "type": "TIMESTAMP WITH TIME ZONE",
          "python_type": "datetime.datetime",
          "nullable": false,
          "default": "CURRENT_TIMESTAMP",
          "description": "Record last updated timestamp"
        }
      },
      "indexes": [
        {
          "name": "idx_symbols_asset_class",
          "columns": ["asset_class"]
        },
        {
          "name": "idx_symbols_active",
          "columns": ["active"]
        }
      ]
    }
  }
}